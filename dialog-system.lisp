(in-package #:org.shirakumo.fraf.trial)

(defvar *dialogues* (make-hash-table))

(defun dialogue (name)
  (gethash name *dialogues*))

(defun (setf dialogue) (value name)
  (setf (gethash name *dialogues*) value))

(defun remove-dialogue (name)
  (remhash name *dialogues*))

(defun dialogue-action (action)
  (format NIL "> ［箕括狺┊箕括狺狺簋夯括狺狺簋累狒［箕狺箕狺犷狺夯狺利［滑犷狺夯狺蔺蔺蔺蔺徙糸镱┅ㄤ彐躅溟犰镧蹂骈钿ㄤ獒祜珲翎绌祜镳骘溟犰镧溟犰镧蹂翳孱ㄤ獒祜珲瀛铄溟犰镧麒殪溟犰镧躅糸ㄦ轭翎ㄧ弭溟犰镧呼徵螬骈钺祆蝈趱蝾麒孱ㄦ轭翎ㄧ弭溟犰镧呼徵螬溟犰镧┅┅ㄤ彐躅溟犰镧蹂铄ㄤ獒祜珲镳糸镱犰汨镩沐ㄩ汨镩沐戾è汨镩沐ㄥ豉疱汜箦汨镩沐ㄩ铘彗弪铘汨镩沐ㄧ弭溟犰镧蹂恒栾殂濠┅扉篝汨镩沐┅┅ㄩㄧ弭汨镩沐虹铹ㄤ獒祜珲瀛骈钿溟犰镧蹂ㄧ弭汨镩沐虹铹ㄤ獒祜珲ㄧ弭汨镩沐轰獒祜珲濠┅ㄧ弭溟犰镧蹂侯屮舂┅ㄤ彐磲泸溴骈铄溟犰镧蹂钺礤蝈篝溟犰镧蹂祜镳鏖翳溟犰镧扉篝侯犴钺礤鏖翳沲蝌孱溟犰镧鏖翳铄紊骘疳螋ㄣ狎溟犰镧蹂麒殪疳螋滹ㄦ戾è狃疱钿麸铄ㄡ痧孱溽忪濠ㄩ铄箦翩ㄣ潋灬篝铄舂狃疱钿徕戾箦翩铄狃疱钿徕戾┅ㄡ痧孱洵麸痱镳弪豉ㄡ痧孱溽忪痱镳弪豉ㄩ铄箦翩ㄧ弭铄痱镳弪豉ㄡ痧孱ㄧ弭铄痱镳弪豉扉篝狃疱钿徕戾┅箦翩铄扉篝痱镳弪豉扉篝狃疱钿徕戾┅┅铄舡疳螋ī箦翩ㄣ潋灬篝沲蝌孱舂扉篝侯屮铄舂沲蝌孱铄铄紊泰┅痫溟犰镧蹂ㄥ豉疱汜箦疳螋脲黠蜾ㄣ狍ㄡ戾犷潋獒哄铙躜瀛簌礅镬疳螋呼蜷犰翎ㄡ痧孱洵麸痱镳弪豉痫溟犰镧蹂呼徵螬ㄡ泗轱ㄡ痧孱洵麸痱镳弪豉ㄤ獒祜珲瀛徙糸镱痫溟犰镧蹂┅横泗轱铙┅ㄣ栾殂ㄡ痧孱洵麸铄扉篝恒栾殂祜镳骘汨镩沐轭痫溟犰镧蹂泔祆邈戾è汨镩沐溟犰镧扉篝呼屮ㄣ狎汨镩沐┅┅箦翩ㄣ滗汨镩沐溟犰镧ㄣ潋汨镩沐┅麒孱ㄧ弭汨镩沐溟犰镧横泗轱瞟箦翩ㄧ弭汨镩沐溟犰镧横泗轱瞟ㄤ獒祜珲瀛徙糸镱ㄧ弭汨镩沐溟犰镧横泗轱瞟┅汨镩沐溟犰镧┅┅┅簌礅镬ㄡ痧孱洵麸铄扉篝横泗矧疳螋呼屮痫溟犰镧蹂┅铄舡疳螋┅┅骈钺祆蝈趱蝾啜痱镧箦翩ㄤ獒祜珲К钺礤К溟犰镧К钺礤┅┅